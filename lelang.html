<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Lelang Gadget | Klik Second</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
  <link rel="stylesheet" href="style.css">
  
  <link rel="stylesheet" href="auth-modal.css">
  <link rel="stylesheet" href="notification.css">
  <link rel="stylesheet" href="lelang-style.css">
</head>
<body>
  <div id="particles-js"></div>

  <!-- HEADER -->
  <header class="header">
    <nav class="navbar">
      <img src="LogoKlikSecondTransparent.png" class="logo" alt="Klik Second" onclick="window.location.href='index.html'" style="cursor: pointer;">

      <ul class="nav-links">
        <li><a href="index.html">Home</a></li>
        <li><a href="search.html">Cari Produk</a></li>
        <li><a href="lelang.html" class="active">Lelang</a></li>
        <li><a href="pegadaian.html">Pegadaian</a></li>
        <li><a href="about.html">About Us</a></li>

      </ul>

      <!-- Auth Buttons (shown when not logged in) -->
      <div class="auth-buttons">
        <button class="btn-login">Login</button>
        <button class="btn-register">Daftar</button>
      </div>

      <!-- User Profile Section (shown when logged in) -->
      <div class="user-profile-section">
        <button class="notification-btn">
          <i class="bi bi-bell-fill"></i>
          <span class="notification-badge">0</span>
        </button>

        <div class="user-profile-trigger">
          <img src="https://ui-avatars.com/api/?name=User&background=00ffff&color=000" alt="User" class="user-avatar">
          <div class="user-info">
            <span class="user-name">User Name</span>
            <span class="user-role">Seller</span>
          </div>
          <i class="bi bi-chevron-down dropdown-arrow"></i>
        </div>

        <div class="user-dropdown">
          <a href="profile.html?tab=profile" class="dropdown-item">
            <i class="bi bi-person-circle"></i>
            <span>Profile Saya</span>
          </a>
          <a href="profile.html?tab=products" class="dropdown-item">
            <i class="bi bi-box-seam"></i>
            <span>Produk Saya</span>
          </a>
          <a href="profile.html?tab=auctions" class="dropdown-item">
            <i class="bi bi-gavel"></i>
            <span>Lelang Saya</span>
          </a>
          <a href="profile.html?tab=pawnshop" class="dropdown-item">
            <i class="bi bi-gem"></i>
            <span>Pegadaian Saya</span>
          </a>          
          <a href="profile.html?tab=settings" class="dropdown-item">
            <i class="bi bi-gear"></i>
            <span>Pengaturan</span>
          </a>
          <div class="dropdown-divider"></div>
          <a href="#" class="dropdown-item" id="logout-btn">
            <i class="bi bi-box-arrow-right"></i>
            <span>Keluar</span>
          </a>
        </div>
      </div>
    </nav>
  </header>

  <!-- NOTIFICATION PANEL -->
  <div id="notification-panel" class="notification-panel">
    <div class="notification-header">
      <h3><i class="bi bi-bell-fill"></i> Notifikasi</h3>
      <div class="notification-actions">
        <button class="mark-all-read">Tandai Semua</button>
        <button class="close-notification">
          <i class="bi bi-x"></i>
        </button>
      </div>
    </div>
    <div class="notification-list" id="notification-list">
      <!-- Notifications will be loaded here -->
    </div>
  </div>

  <!-- AUTHENTICATION MODAL -->
  <div id="auth-modal" class="auth-modal">
    <div class="auth-modal-content">
      <span class="auth-modal-close">
        <i class="bi bi-x"></i>
      </span>

      <div class="auth-modal-header">
        <h2>Selamat Datang!</h2>
        <p>Login atau daftar untuk melanjutkan</p>
      </div>

      <div class="auth-tabs">
        <button class="auth-tab active" data-tab="login">Login</button>
        <button class="auth-tab" data-tab="register">Daftar</button>
      </div>

      <!-- LOGIN FORM -->
      <div id="login-form" class="auth-form active">
        <div id="login-error" class="error-message"></div>
        
        <form onsubmit="return false;">
          <div class="form-group">
            <label for="login-username">Username atau Email</label>
            <input type="text" id="login-username" placeholder="Masukkan username atau email" required>
          </div>

          <div class="form-group password-toggle">
            <label for="login-password">Password</label>
            <input type="password" id="login-password" placeholder="Masukkan password" required>
            <i class="bi bi-eye-slash password-toggle-icon"></i>
          </div>

          <div class="form-options">
            <label class="remember-me">
              <input type="checkbox" id="remember-me">
              <span>Ingat Saya</span>
            </label>
            <a href="#" class="forgot-password">Lupa Password?</a>
          </div>

          <button type="submit" class="auth-submit-btn">
            <i class="bi bi-box-arrow-in-right"></i>
            Login
          </button>
        </form>

        <div class="auth-divider">
          <span>atau login dengan</span>
        </div>

        <div class="social-login">
          <button class="social-btn">
            <i class="bi bi-google"></i>
            Google
          </button>
          <button class="social-btn">
            <i class="bi bi-facebook"></i>
            Facebook
          </button>
        </div>
      </div>

      <!-- REGISTER FORM -->
      <div id="register-form" class="auth-form">
        <div id="register-error" class="error-message"></div>
        <div id="register-success" class="success-message"></div>
        
        <form onsubmit="return false;">
          <div class="form-group">
            <label for="register-fullname">Nama Lengkap</label>
            <input type="text" id="register-fullname" placeholder="Masukkan nama lengkap" required>
          </div>

          <div class="form-group">
            <label for="register-email">Email</label>
            <input type="email" id="register-email" placeholder="Masukkan email" required>
          </div>

          <div class="form-group">
            <label for="register-phone">No. Telepon</label>
            <input type="tel" id="register-phone" placeholder="08XXXXXXXXXX" required>
          </div>

          <div class="form-group">
            <label for="register-username">Username</label>
            <input type="text" id="register-username" placeholder="Pilih username" required>
          </div>

          <div class="form-group password-toggle">
            <label for="register-password">Password</label>
            <input type="password" id="register-password" placeholder="Minimal 6 karakter" required>
            <i class="bi bi-eye-slash password-toggle-icon"></i>
          </div>

          <div class="form-group password-toggle">
            <label for="register-confirm-password">Konfirmasi Password</label>
            <input type="password" id="register-confirm-password" placeholder="Ulangi password" required>
            <i class="bi bi-eye-slash password-toggle-icon"></i>
          </div>

          <button type="submit" class="auth-submit-btn">
            <i class="bi bi-person-plus"></i>
            Daftar Sekarang
          </button>
        </form>
      </div>
    </div>
  </div>

  <!-- LELANG HERO SECTION -->
  <section class="lelang-hero">
    <div class="lelang-hero-content">
      <div class="hero-badge">
        <i class="bi bi-lightning-charge-fill"></i>
        <span>LIVE AUCTION</span>
      </div>
      <h1>Lelang Gadget Premium</h1>
      <p>Dapatkan gadget impianmu dengan harga terbaik melalui sistem lelang yang transparan dan aman</p>
      
      <div class="hero-countdown">
        <span class="countdown-label">Sesi Lelang Berakhir Dalam:</span>
        <div class="hero-timer">
          <div class="timer-item">
            <span class="timer-value" id="hero-hours">00</span>
            <span class="timer-label">Jam</span>
          </div>
          <span class="timer-colon">:</span>
          <div class="timer-item">
            <span class="timer-value" id="hero-minutes">00</span>
            <span class="timer-label">Menit</span>
          </div>
          <span class="timer-colon">:</span>
          <div class="timer-item">
            <span class="timer-value" id="hero-seconds">00</span>
            <span class="timer-label">Detik</span>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- FILTER SECTION -->
  <section class="filter-section">
    <div class="filter-container">
      <div class="filter-item">
        <label>Kategori:</label>
        <select id="category-filter">
          <option value="all">Semua Kategori</option>
          <option value="iphone">iPhone</option>
          <option value="android">Android</option>
          <option value="tablet">Tablet</option>
        </select>
      </div>
      
      <div class="filter-item">
        <label>Urutkan:</label>
        <select id="sort-filter">
          <option value="ending">Berakhir Segera</option>
          <option value="price-low">Harga Terendah</option>
          <option value="price-high">Harga Tertinggi</option>
          <option value="bids">Bid Terbanyak</option>
        </select>
      </div>

      <div class="active-auctions-count">
        <i class="bi bi-fire"></i>
        <span><strong id="active-count">15</strong> Lelang Aktif</span>
      </div>
    </div>
  </section>

  <!-- LELANG ITEMS GRID -->
  <section class="lelang-items">
    <div class="lelang-container">
      
      <!-- Auction Item 1 - iPhone 15 Pro Max -->
      <div class="auction-item" data-category="iphone">
        <div class="auction-status hot">
          <i class="bi bi-fire"></i>
          <span>HOT</span>
        </div>
        <div class="auction-image">
          <img src="https://images.tokopedia.net/img/cache/700/VqbcmM/2023/10/27/e692ce96-2164-4c9c-9f58-b8dda1ef3037.jpg" alt="iPhone 15 Pro Max">
        </div>
        <div class="auction-details">
          <h3>iPhone 15 Pro Max 256GB</h3>
          <p class="auction-desc">
            <i class="bi bi-check-circle-fill"></i> Full Set • No Minus<br>
            <i class="bi bi-battery-charging"></i> Battery Health 90%
          </p>
          
          <div class="auction-price-info">
            <div class="price-row">
              <span class="price-label">Harga Pembukaan:</span>
              <span class="opening-price">Rp 15.000.000</span>
            </div>
            <div class="price-row highlight">
              <span class="price-label">Bid Tertinggi:</span>
              <span class="current-price">Rp 16.500.000</span>
            </div>
          </div>

          <div class="auction-stats-row">
            <div class="stat">
              <i class="bi bi-hammer"></i>
              <span>128 Bids</span>
            </div>
            <div class="stat">
              <i class="bi bi-eye-fill"></i>
              <span>1.2k Views</span>
            </div>
          </div>

          <div class="auction-timer" data-end-time="2">
            <i class="bi bi-clock-fill"></i>
            <span class="time-remaining">Berakhir dalam 1 jam 45 menit</span>
          </div>

          <button class="btn-bid" onclick='openBidModal("iPhone 15 Pro Max 256GB", 16500000, "auction-1")'>
            <i class="bi bi-gavel"></i>
            Pasang Bid Sekarang
          </button>
        </div>
      </div>

      <!-- Auction Item 2 - Samsung Galaxy S24 Ultra -->
      <div class="auction-item" data-category="android">
        <div class="auction-status">
          <i class="bi bi-star-fill"></i>
          <span>NEW</span>
        </div>
        <div class="auction-image">
          <img src="https://images.unsplash.com/photo-1610945415295-d9bbf067e59c?w=400" alt="Samsung S24 Ultra">
        </div>
        <div class="auction-details">
          <h3>Samsung Galaxy S24 Ultra 512GB</h3>
          <p class="auction-desc">
            <i class="bi bi-check-circle-fill"></i> Full Set • Garansi Resmi<br>
            <i class="bi bi-battery-charging"></i> Battery Health 95%
          </p>
          
          <div class="auction-price-info">
            <div class="price-row">
              <span class="price-label">Harga Pembukaan:</span>
              <span class="opening-price">Rp 14.000.000</span>
            </div>
            <div class="price-row highlight">
              <span class="price-label">Bid Tertinggi:</span>
              <span class="current-price">Rp 15.200.000</span>
            </div>
          </div>

          <div class="auction-stats-row">
            <div class="stat">
              <i class="bi bi-hammer"></i>
              <span>95 Bids</span>
            </div>
            <div class="stat">
              <i class="bi bi-eye-fill"></i>
              <span>890 Views</span>
            </div>
          </div>

          <div class="auction-timer" data-end-time="4.5">
            <i class="bi bi-clock-fill"></i>
            <span class="time-remaining">Berakhir dalam 4 jam 30 menit</span>
          </div>

          <button class="btn-bid" onclick='openBidModal("Samsung Galaxy S24 Ultra 512GB", 15200000, "auction-2")'>
            <i class="bi bi-gavel"></i>
            Pasang Bid Sekarang
          </button>
        </div>
      </div>

      <!-- Auction Item 3 - iPad Pro -->
      <div class="auction-item" data-category="tablet">
        <div class="auction-image">
          <img src="https://images.unsplash.com/photo-1544244015-0df4b3ffc6b0?w=400" alt="iPad Pro">
        </div>
        <div class="auction-details">
          <h3>iPad Pro 12.9" M2 256GB</h3>
          <p class="auction-desc">
            <i class="bi bi-check-circle-fill"></i> WiFi + Cellular<br>
            <i class="bi bi-battery-charging"></i> Battery Health 92%
          </p>
          
          <div class="auction-price-info">
            <div class="price-row">
              <span class="price-label">Harga Pembukaan:</span>
              <span class="opening-price">Rp 12.000.000</span>
            </div>
            <div class="price-row highlight">
              <span class="price-label">Bid Tertinggi:</span>
              <span class="current-price">Rp 13.800.000</span>
            </div>
          </div>

          <div class="auction-stats-row">
            <div class="stat">
              <i class="bi bi-hammer"></i>
              <span>76 Bids</span>
            </div>
            <div class="stat">
              <i class="bi bi-eye-fill"></i>
              <span>654 Views</span>
            </div>
          </div>

          <div class="auction-timer" data-end-time="7">
            <i class="bi bi-clock-fill"></i>
            <span class="time-remaining">Berakhir dalam 7 jam 15 menit</span>
          </div>

          <button class="btn-bid" onclick='openBidModal("iPad Pro 12.9 inch M2 256GB", 13800000, "auction-3")'>
            <i class="bi bi-gavel"></i>
            Pasang Bid Sekarang
          </button>
        </div>
      </div>

      <!-- Auction Item 4 - iPhone 14 Pro -->
      <div class="auction-item" data-category="iphone">
        <div class="auction-image">
          <img src="https://images.unsplash.com/photo-1663499482523-1c0d7da89408?w=400" alt="iPhone 14 Pro">
        </div>
        <div class="auction-details">
          <h3>iPhone 14 Pro 256GB</h3>
          <p class="auction-desc">
            <i class="bi bi-check-circle-fill"></i> Full Set • Purple<br>
            <i class="bi bi-battery-charging"></i> Battery Health 88%
          </p>
          
          <div class="auction-price-info">
            <div class="price-row">
              <span class="price-label">Harga Pembukaan:</span>
              <span class="opening-price">Rp 11.000.000</span>
            </div>
            <div class="price-row highlight">
              <span class="price-label">Bid Tertinggi:</span>
              <span class="current-price">Rp 12.300.000</span>
            </div>
          </div>

          <div class="auction-stats-row">
            <div class="stat">
              <i class="bi bi-hammer"></i>
              <span>64 Bids</span>
            </div>
            <div class="stat">
              <i class="bi bi-eye-fill"></i>
              <span>521 Views</span>
            </div>
          </div>

          <div class="auction-timer" data-end-time="9">
            <i class="bi bi-clock-fill"></i>
            <span class="time-remaining">Berakhir dalam 9 jam 5 menit</span>
          </div>

          <button class="btn-bid" onclick='openBidModal("iPhone 14 Pro 256GB", 12300000, "auction-4")'>
            <i class="bi bi-gavel"></i>
            Pasang Bid Sekarang
          </button>
        </div>
      </div>

      <!-- Auction Item 5 - Google Pixel 8 Pro -->
      <div class="auction-item" data-category="android">
        <div class="auction-image">
          <img src="https://images.unsplash.com/photo-1598327105666-5b89351aff97?w=400" alt="Google Pixel 8 Pro">
        </div>
        <div class="auction-details">
          <h3>Google Pixel 8 Pro 256GB</h3>
          <p class="auction-desc">
            <i class="bi bi-check-circle-fill"></i> Full Set • Bay Blue<br>
            <i class="bi bi-battery-charging"></i> Battery Health 93%
          </p>
          
          <div class="auction-price-info">
            <div class="price-row">
              <span class="price-label">Harga Pembukaan:</span>
              <span class="opening-price">Rp 9.000.000</span>
            </div>
            <div class="price-row highlight">
              <span class="price-label">Bid Tertinggi:</span>
              <span class="current-price">Rp 10.100.000</span>
            </div>
          </div>

          <div class="auction-stats-row">
            <div class="stat">
              <i class="bi bi-hammer"></i>
              <span>52 Bids</span>
            </div>
            <div class="stat">
              <i class="bi bi-eye-fill"></i>
              <span>432 Views</span>
            </div>
          </div>

          <div class="auction-timer" data-end-time="10.5">
            <i class="bi bi-clock-fill"></i>
            <span class="time-remaining">Berakhir dalam 10 jam 30 menit</span>
          </div>

          <button class="btn-bid" onclick='openBidModal("Google Pixel 8 Pro 256GB", 10100000, "auction-5")'>
            <i class="bi bi-gavel"></i>
            Pasang Bid Sekarang
          </button>
        </div>
      </div>

      <!-- Auction Item 6 - Samsung Galaxy Tab S9 -->
      <div class="auction-item" data-category="tablet">
        <div class="auction-image">
          <img src="https://images.unsplash.com/photo-1585790050230-5dd28404f0a1?w=400" alt="Galaxy Tab S9">
        </div>
        <div class="auction-details">
          <h3>Samsung Galaxy Tab S9 Ultra</h3>
          <p class="auction-desc">
            <i class="bi bi-check-circle-fill"></i> 512GB + S-Pen<br>
            <i class="bi bi-battery-charging"></i> Battery Health 94%
          </p>
          
          <div class="auction-price-info">
            <div class="price-row">
              <span class="price-label">Harga Pembukaan:</span>
              <span class="opening-price">Rp 13.500.000</span>
            </div>
            <div class="price-row highlight">
              <span class="price-label">Bid Tertinggi:</span>
              <span class="current-price">Rp 14.700.000</span>
            </div>
          </div>

          <div class="auction-stats-row">
            <div class="stat">
              <i class="bi bi-hammer"></i>
              <span>43 Bids</span>
            </div>
            <div class="stat">
              <i class="bi bi-eye-fill"></i>
              <span>389 Views</span>
            </div>
          </div>

          <div class="auction-timer" data-end-time="11">
            <i class="bi bi-clock-fill"></i>
            <span class="time-remaining">Berakhir dalam 11 jam</span>
          </div>

          <button class="btn-bid" onclick='openBidModal("Samsung Galaxy Tab S9 Ultra", 14700000, "auction-6")'>
            <i class="bi bi-gavel"></i>
            Pasang Bid Sekarang
          </button>
        </div>
      </div>

    </div>
  </section>

  <!-- BID MODAL -->
  <div id="bid-modal" class="modal">
    <div class="modal-content">
      <span class="close-modal" onclick="closeBidModal()">&times;</span>
      
      <div class="modal-header">
        <i class="bi bi-gavel"></i>
        <h2>Pasang Bid</h2>
      </div>

      <div class="modal-body">
        <h3 id="modal-product-name">iPhone 15 Pro Max 256GB</h3>
        
        <div class="bid-info-box">
          <div class="bid-info-row">
            <span>Bid Tertinggi Saat Ini:</span>
            <strong id="modal-current-bid">Rp 16.500.000</strong>
          </div>
          <div class="bid-info-row">
            <span>Minimum Bid Increment:</span>
            <strong>Rp 100.000</strong>
          </div>
          <div class="bid-info-row">
            <span>Bid Minimum Anda:</span>
            <strong id="modal-min-bid">Rp 16.600.000</strong>
          </div>
        </div>

        <div class="bid-input-group">
          <label for="bid-amount">Masukkan Jumlah Bid Anda:</label>
          <div class="input-wrapper">
            <span class="currency">Rp</span>
            <input type="text" id="bid-amount" placeholder="16.600.000" />
          </div>
          <div class="quick-bid-buttons">
            <button onclick="quickBid(100000)">+100K</button>
            <button onclick="quickBid(500000)">+500K</button>
            <button onclick="quickBid(1000000)">+1JT</button>
          </div>
        </div>

        <div class="bid-history">
          <h4><i class="bi bi-clock-history"></i> Riwayat Bid</h4>
          <div class="history-list" id="bid-history-list">
            <div class="history-item">
              <div class="bidder-info">
                <i class="bi bi-person-circle"></i>
                <span class="bidder-name">User****23</span>
              </div>
              <span class="bid-amount">Rp 16.500.000</span>
              <span class="bid-time">2 menit lalu</span>
            </div>
            <div class="history-item">
              <div class="bidder-info">
                <i class="bi bi-person-circle"></i>
                <span class="bidder-name">User****15</span>
              </div>
              <span class="bid-amount">Rp 16.400.000</span>
              <span class="bid-time">8 menit lalu</span>
            </div>
            <div class="history-item">
              <div class="bidder-info">
                <i class="bi bi-person-circle"></i>
                <span class="bidder-name">User****89</span>
              </div>
              <span class="bid-amount">Rp 16.200.000</span>
              <span class="bid-time">15 menit lalu</span>
            </div>
            <div class="history-item">
              <div class="bidder-info">
                <i class="bi bi-person-circle"></i>
                <span class="bidder-name">User****42</span>
              </div>
              <span class="bid-amount">Rp 16.000.000</span>
              <span class="bid-time">23 menit lalu</span>
            </div>
          </div>
        </div>

        <div class="terms-checkbox">
          <input type="checkbox" id="agree-terms">
          <label for="agree-terms">Saya setuju dengan <a href="#">syarat dan ketentuan</a> lelang</label>
        </div>

        <button class="btn-submit-bid" onclick="submitBid()">
          <i class="bi bi-check-circle-fill"></i>
          Konfirmasi Bid
        </button>
      </div>
    </div>
  </div>

  <!-- Scripts - CRITICAL ORDER -->
  <script src="users.js"></script>
  <script src="products-loader.js"></script>
  <script src="session-manager.js"></script>
  <script src="auth-handler.js"></script>
  <script src="notification-handler.js"></script>
  <script src="search-engine.js"></script>
  <script src="auction-timer.js"></script>
  <script src="lelang-script.js"></script>
  <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
  <script src="script.js"></script>
</body>
</html>